var MarkdownInputHelpers=function(e){"use strict";function t(){}function n(e){let n;return function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(e,(e=>n=e))(),n}return Promise.resolve(),e.get_current_html=function(e){var t,o;const r=NoteEditor.instances[0];return n(null===(o=null===(t=null==r?void 0:r.fields[e])||void 0===t?void 0:t.editingArea)||void 0===o?void 0:o.content)||""},e.get_selected_html=function(e){const t=document.activeElement.shadowRoot.getSelection(),n=t.getRangeAt(0),o=n.commonAncestorContainer;let r=n.startContainer;if(r!=o)for(;r.parentNode!=o;)r=r.parentNode;if(r.previousSibling?n.setStartAfter(r.previousSibling):n.setStartBefore(r),r=n.endContainer,r!=o)for(;r.parentNode!=o;)r=r.parentNode;r.nextSibling?n.setEndBefore(r.nextSibling):n.setEndAfter(r),t.removeAllRanges(),t.addRange(n);const i=document.createElement("div");return i.append(n.cloneContents()),i.innerHTML},e.set_current_html=function(e,t){var n;console.log(e+">>"+t);const o=NoteEditor.instances[0],r=null===(n=null==o?void 0:o.fields[e])||void 0===n?void 0:n.editingArea;null==r||r.content.set(t),null==r||r.refocus()},e.set_selected_html=function(e,t){let n=document.activeElement.shadowRoot.querySelector("anki-editable");if(n.firstChild&&"#text"!==n.firstChild.nodeName.toLowerCase()){const e=document.activeElement.shadowRoot.getSelection();let t=e.getRangeAt(0);document.execCommand("selectAll");let o=e.getRangeAt(0);t.toString()===o.toString()?(n.innerHTML="<br>"+n.innerHTML+"<br>",document.execCommand("selectAll")):(e.removeAllRanges(),e.addRange(t))}pasteHTML(t,!0)},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
